# All Reduce LOG Reverse Engineering

TO REPLICATE

CHANGE v2 into run_five_clients and prepare_job_config

For v2 use xgboost 2.1.0
For v1 use xgboost 2.0.0

## TO RUN

1) Change number of clients in `run_five_clients.sh` (`n` parameter)
2) Change the site-map in `base_v2/config_fed_server.json` adding/removing clients accordingly
3) Update xgboost parameters in `base_v2/config_fed_client.json`

## Max depth: 3

| SN | Operation | Description                                                                                                                          |
|----|-----------|--------------------------------------------------------------------------------------------------------------------------------------|
| 0  | MAX       | Number of features                                                                                                                   |
| 1  | MAX       | Number of features                                                                                                                   |
| 2  | VOID      | DUNNO                                                                                                                                |
| 3  | SUM       | Total Hessian (base_score=0.5)                                                                                                       |
| 6  | VOID      | DUNNO                                                                                                                                |
| 7  | SUM       | 55 integers, all 0 dunno                                                                                                             |
| 8  | SUM       | 6 integers, all 0 dunno                                                                                                              |
| 9  | SUM       | empty array                                                                                                                          |
| 10 | SUM       | Array with number of samples for each feature                                                                                        |
| 11 | SUM       | 55 integers, sample id displacement (unique values of each feature)                                                                  |
| 12 | SUM       | 42792 floats, quantile sketching, 4 numbers for each entry (r+,r-,w,value) tuples                                                    |
| 13 | SUM       | 1368 doubles, tuple of G,H for left and right proposed node. For each feature we have at most min(unique_feat, max_bin) G, H couples |
| 14 | SUM       | 2 doubles, aggregated H for the chosen split                                                                                         |
| 15 | SUM       | 1368 doubles, same as 13 but for the next depth                                                                                      |
| 16 | SUM       | 2736 doubles, same as 15 but for the next depth                                                                                      |
| 17 | MAX       | 2 integers, maybe size of eval set                                                                                                   | <=== EVALUATION, FIXED PART
| 18 | SUM       | 2 doubles, dunno                                                                                                                     |
| 19 | MAX       | 2 integers, size of train set                                                                                                        |
| 20 | SUM       | 2 doubles, dunno                                                                                                                     |
| 21 | SUM       | 1 double, metrics for eval set                                                                                                       |
| 22 | SUM       | 1 double, metrics for train set                                                                                                      |
